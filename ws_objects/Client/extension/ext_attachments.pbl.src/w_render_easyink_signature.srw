$PBExportHeader$w_render_easyink_signature.srw
forward
global type w_render_easyink_signature from w_window_base
end type
type pb_done from u_picture_button within w_render_easyink_signature
end type
type st_title from statictext within w_render_easyink_signature
end type
type ole_signature from u_ole_easyink_signature within w_render_easyink_signature
end type
end forward

global type w_render_easyink_signature from w_window_base
boolean visible = false
integer width = 5125
integer height = 3320
boolean titlebar = false
boolean controlmenu = false
boolean minbox = false
boolean maxbox = false
boolean resizable = false
windowtype windowtype = response!
pb_done pb_done
st_title st_title
ole_signature ole_signature
end type
global w_render_easyink_signature w_render_easyink_signature

type variables
long 					bitmap_width,bitmap_height
string				bitmap_file
u_component_attachment attachment

end variables

on w_render_easyink_signature.create
int iCurrent
call super::create
this.pb_done=create pb_done
this.st_title=create st_title
this.ole_signature=create ole_signature
iCurrent=UpperBound(this.Control)
this.Control[iCurrent+1]=this.pb_done
this.Control[iCurrent+2]=this.st_title
this.Control[iCurrent+3]=this.ole_signature
end on

on w_render_easyink_signature.destroy
call super::destroy
destroy(this.pb_done)
destroy(this.st_title)
destroy(this.ole_signature)
end on

event open;call super::open;str_popup popup

popup = message.powerobjectparm
If popup.data_row_count = 3 then
	bitmap_file = popup.items[1]
	bitmap_width = long(popup.items[2])
	bitmap_height = long(popup.items[3])
	attachment = popup.objectparm
	postevent("post_open")
Else
	log.log(this,"open()","Invalid parameters",4)
	pb_done.event clicked()
	Return
End If
end event

event post_open;long ll_sts
integer li_sts
boolean lb_size
blob lbl_attachment

if isnull(bitmap_height) or bitmap_height <= 0 or isnull(bitmap_width) or bitmap_width <= 0 then
	lb_size = false
else
	lb_size = true
end if

li_sts = attachment.get_attachment_blob(lbl_attachment)
If li_sts <= 0 Then Return -1

visible = true
visible = false

ole_signature.object.imagedata = lbl_attachment

ole_signature.object.saveimage(bitmap_file)

pb_done.event clicked()


end event

type pb_epro_help from w_window_base`pb_epro_help within w_render_easyink_signature
end type

type st_config_mode_menu from w_window_base`st_config_mode_menu within w_render_easyink_signature
integer y = 1996
end type

type pb_done from u_picture_button within w_render_easyink_signature
integer x = 4654
integer y = 2972
integer taborder = 10
string picturename = "button26.bmp"
string disabledname = "b_push26.bmp"
end type

event clicked;call super::clicked;Close(parent)
end event

type st_title from statictext within w_render_easyink_signature
integer width = 2921
integer height = 248
boolean bringtotop = true
integer textsize = -14
integer weight = 700
fontcharset fontcharset = ansi!
fontpitch fontpitch = variable!
fontfamily fontfamily = swiss!
string facename = "Arial"
long textcolor = 33554432
long backcolor = 33538240
boolean enabled = false
alignment alignment = center!
boolean focusrectangle = false
end type

type ole_signature from u_ole_easyink_signature within w_render_easyink_signature
integer x = 23
integer y = 308
integer width = 5038
integer height = 2536
integer taborder = 20
string binarykey = "w_render_easyink_signature.win"
end type


Start of PowerBuilder Binary Data Section : Do NOT Edit
01w_render_easyink_signature.bin 
2900000a00e011cfd0e11ab1a1000000000000000000000000000000000003003e0009fffe000000060000000000000000000000010000000100000000000010000000000200000001fffffffe0000000000000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdfffffffefffffffefffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff006f00520074006f004500200074006e00790072000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000050016ffffffffffffffff000000010000000000000000000000000000000000000000000000000000000063411ba001c89ffe00000003000000800000000000500003004f0042005800430054005300450052004d0041000000000000000000000000000000000000000000000000000000000000000000000000000000000102001affffffff00000002ffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c00000000004200500043004f00530058004f00540041005200450047000000000000000000000000000000000000000000000000000000000000000000000000000000000001001affffffffffffffff000000034d17496d11d47da3100070927ca0a95a0000000063411ba001c89ffe63411ba001c89ffe000000000000000000000000006f00430074006e006e00650073007400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001020012ffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000010000001c00000000fffffffefffffffeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
29ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000300000071e500004187ffff000b00050013001380008000000800200073006f00420064006c00490020004300540045000000610072002000730065004400000300000071e500004187ffff000b000500130013800080000008006800670020007400540049000000430072004500730061004d002000640065007500690020006d0054004900000043006500460069006c0020007800690054006c0074006e006900000067006f0046007400720000006500720046006e0061006c006b006e0069004700200074006f0069006800200063006f0042006b006f0046000000610072006b006e0069006c0020006e006f0047006800740063006900440020006d00650000006900720046006e0061006c006b006e0069004700200074006f0069006800200063006500440069006d00430020006e006f0000006400720046006e0061006c006b006e0069004700200074006f006900680020006300650048007600610000007900720046006e0061006c006b006e0069004700200074006f00690068002000630065004d00690064006d007500430020006e006f00000064006900470069006700470000006c00690020006c006100530073006e004d00200000005400690047006c006c00530020006e0061002000730054004d00430020006e006f006500640073006e0064006500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11w_render_easyink_signature.bin 
End of PowerBuilder Binary Data Section : No Source Expected After This Point
