<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="PROBLEM" content="How to: Create a database" />
    <meta name="TITLE" content="How to: Create a database" />
    <meta name="DESCRIPTION" content="This solution gives step-by-step information on setting up a customer's database." />
    <meta name="PROBLEM_TYPE" content="How To Solution" />
    <meta name="AUDIENCE" content="sa" />
	<meta name="KEYWORDS" content="ephr10002952 10130 Creating a database" />
    <link rel="stylesheet" type="text/css" href="images/common.css" />
    
    <title>How to: Create a database</title>
</head>

<script type="text/javascript">function popup(image, width, height) { window.open(image, 'popup', 'width=' + width + ',height=' + height + ',scrollbars=yes'); }</script>

<body>
    <img src="images/logo.gif" border="0" alt="RightAnswers, Inc" /><br />
    <br />
    <hr />
    
    <!-- Begin Solution -->

	<div class="solutionPath"><b>Solution Path:</b> Supporting EncounterPRO-OS &gt; Db Mod Levels</div>
<hr />
<h2>How to: Create a database</h2><table cellpadding="5" cellspacing="0" border="0" class="solutionTable">
<tr>
<td class="sectionLabel">
Solution:
</td>
<td class="sectionContent">
This solution gives step-by-step information on setting up a customer's database in house and on site.
</td>
</tr>
<tr>
<td class="sectionLabel">
Details:
</td>
<td class="sectionContent">
<FONT face=sans-serif size=2>  <p> 
Creating Database in House </p>
 
  <p> 
1)&nbsp;Get the database (config release)&nbsp;- the location will depend upon which config you are using&nbsp;[at the time this was updated we are using config 19 for peds and family practice located on&nbsp;<A href='file://\\supportserv\Database'>\\supportserv\Database</A> Backups\New_Install\DB Backup cpr_production-19.exe (config 19)]. <br /> 
2)&nbsp;Save or extract the backup to \\SupportServ\Database Backups (If not already there&nbsp;- config 19 is pr_405_production.bak). <br /> 
3)&nbsp;Open enterprise manager and open up the local server group. Create database on 'SupportServ'.  <br /> 
4)&nbsp;Right-click on databases, select 'New Database', name database 'cpr_Praticename', and select 'Ok'.  <br /> 
5)&nbsp;Right-click on 'cpr' database, select 'All Tasks', and select 'Restore Database'.  <br /> 
6)&nbsp;Select 'From Device', select 'Select Devices', remove any devices listed, and select 'Add'.  <br /> 
7)&nbsp;Locate the 'xxxxxx.bak' file (config release from step#2) and select 'Ok'. This should take you to the main general tab of restore database. <br /> 
8)&nbsp;Select on the options tab and verify that 3 logical filenames were created.  <br /> 
9)&nbsp;It will automatically create the logical filenames. You will need to change the file name to your database name.&nbsp; <br /> 
&nbsp; a) Data logical file should end in .mdf. <br /> 
&nbsp; b) Attachment logical file should end in .ndf. <br /> 
&nbsp; c) Log logical file end in .ldf. <br /> 
 <img src="images/content_screen.gif" border="0" width="18">&nbsp;<a href="images/090080721191250.jpg"> 'Restore database' dialog box</a> <br /> 
10)&nbsp;Select 'Force restore existing database'. <br /> 
11)&nbsp;Select 'Ok'. <br /> 
12)&nbsp;Right-click on database, select 'Properties', select 'Options' and&nbsp;uncheck 'Read-only'.  <br /> 
13)&nbsp;Open 'Query Analyzer' and point to newly created database. <br /> 
14)&nbsp;Run '4.05 Demo DB to a live DB.txt from: <br /> 
<A href='file://\\wwwserver\Ftproot\EP_Upgrades\Production\Encounter_Production_CD\New_Install\New_Installation\Demo_DB_to_live_DB.sql'>\\wwwserver\Ftproot\EP_Upgrades\Production\Encounter_Production_CD\New_Install\New_Installation\Demo_DB_to_live_DB.sql</A> <br /> 
<img src="images/content_note.gif" width="18" border="0"><FONT color=#009900><I>NOTE: If database name is not 'cpr' do a Find and Replace to update the script accordingly.</I></FONT> <br /> 
15)&nbsp;Run below script in Query. Can also be found on CD under <A href='file://wwwserver/Ftproot/EP_Upgrades/Production/Encounter_Production_CD/New_Install/New_Installation/Practice_Configurations_Script.sql'>\\wwwserver\Ftproot\EP_Upgrades\Production\Encounter_Production_CD\New_Install\New_Installation\Practice_Configurations_Script.sql</A> <br /> 
16)&nbsp;In this script we will need to do a find and replace on all list files. Ex-custid replace with 'XXXX' (where 'XXX'=the real customer number).  <br /> 
17)&nbsp;After everything is properly replaced in the script run the script.  <br /> 
18)&nbsp;Create Access Link to Database. Save database link in <br /> 
<A href='file://dellserv/Common/Support/AccessTables/ClientDatabases'>\\dellserv\Common\Support\AccessTables\ClientDatabases</A> Instructions for creating this can be found under Article #10113 - Linking databases to Access tables. <br /> 
19)&nbsp;Create rooms. Go to 'o_Rooms'. The easiest way to create a room is by copying and pasting one of the pre-existing rows in the table, and pasting it at the end. (Keep in mind the number sequence). Also add the rooms to 'o_Group_Rooms' (keeping in the sequence numbers). <br /> 
20)&nbsp;If practice has more then one office follow below KB article&nbsp; <br /> 
<A href='https://192.168.155.2/kb/Article.aspx?ArticleNumber=10210'>https://192.168.155.2/kb/Article.aspx?ArticleNumber=10210</A>  <br /> 
&nbsp;Add all the physicians and nurse practitioners through EncounterPRO or through c_user. <br /> 
&nbsp;Update Database to latest Database, Config, Reports and Hotfixes. <br /> 
&nbsp;Backup up Database to <A href='file://\\techserv\NewCustomerDatabases'>\\techserv\NewCustomerDatabases</A>. </p>
 
  <p> 
Creating Database on Site  </p>
 
  <p> 
1)&nbsp;Usually the database will already be created. If database is not created follow above steps for creating Database in house.  <br /> 
2)&nbsp;Copy contents of CD to D:\Install\JMJ. <br /> 
3)&nbsp;Restore Database and name it CPR by following below KB article <br /> 
<A href='https://192.168.155.2/kb/Article.aspx?ArticleNumber=10280'>https://192.168.155.2/kb/Article.aspx?ArticleNumber=10280</A>  <br /> 
4)&nbsp;Install EncounterPRO, EPRO SERVER and EPROLIBNET. <br /> 
5)&nbsp;Update Database to latest mod Level, Reports and all hot fixes. <br /> 
6)&nbsp;Open Up EPROSERVER and select 'Clear Login' and 'Set Login' on 'General' tab. <br /> 
7)&nbsp;Create CPRFILES by running 'make_cpr_files_dirs on D Drive.bat' which can be found on the CD \New_Install\New_Installation. <br /> 
8)&nbsp;Copy EncounterPRO Install Files to CPRFILES\EncounterPRO\Install. <br /> 
9)&nbsp;Create Maintenance jobs by running attached script or also on CD under \New_Install\New_Installation <br /> 
<A href='https://www.jmjtech.com/kb/images//10130/Maintenance.txt'>https://www.jmjtech.com/kb/images//10130/Maintenance.txt</A> <br /> 
10)&nbsp;Disable all service in o_server_component except for JMJ_SERVERSERVICE. <br /> 
11)&nbsp;Set up Automatic Printing by following KB Article <br /> 
<A href='https://192.168.155.2/kb/Article.aspx?ArticleNumber=10199'>https://192.168.155.2/kb/Article.aspx?ArticleNumber=10199</A>  <br /> 
12)&nbsp;Change server name in c_attachment_location. <br /> 
13)&nbsp;Chart an encounter to ensure that it works. <br /> 
14)&nbsp;Run all SQL Jobs. <br /> 
15)&nbsp;Update and Close Issue. Sent SR to Implementaion Co-ordinator. <br /> 
<img src="images/content_note.gif" width="18" border="0"><FONT color=#009900><I>NOTE: </I></FONT> <br /> 
<EM><FONT color=#009900>Regarding step 17: You can find customer ids here: <br /> 
\\Dellserv\jmjfiles\Users\EP Users New Format.xls</FONT></EM> <br /> 
 <br /> 
Article created on 1/18/2005 by jeffrey.handy </p>
 
  <p> 
Article last updated on 10/3/2006 by ed.harris</FONT> </p>

</td>
</tr>
<tr>
<td class="sectionLabel">
Symptoms:
</td>
<td class="sectionContent">

</td>
</tr>
</table>
<br />
<hr />
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
<td>
<b>ID:</b> 040820319141195</td>
<td style="text-align: right;">
<b>Last Modified:</b> 10/01/2008 03:20:03 PM</td>
</tr>
</table>

    
    <!-- End Solution -->
	<br />
	<hr style="height: 5px" />
	<div class="subtext"><img src="images/CC3_logo.png" hspace=3 px/>Copyright &#0169 2008-2018 by the EncounterPRO Open Source Project. You may distribute it and/or modify it under the terms of the Creative Commons Attribution License, version 3.0 or later. All trademarks within this guide belong to their legitimate owners. Please attribute the EncounterPRO Open Source Project as the creator of this work. Please include this URL for the Work: encounterpro.org <br /> <a href=http://www.librarycopyright.net/wiki/index.php?title="How_to_attribute_a_Creative_Commons_licensed_work">Additional Instruction</a></div> 
       
		
</body>
</html>